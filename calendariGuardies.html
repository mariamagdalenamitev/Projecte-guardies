<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <title>Calendari gu√†rdies</title>
    <link rel="stylesheet" type="text/css" href="menu.css">
    <script src="sheetService.js"></script>
    <script src="https://kit.fontawesome.com/f52af23a03.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="guardies.css">
</head>
<body>
<div id="llistatGuardies"></div>
<script>

    let pati
   async function init(){
        const urlParams = new URLSearchParams(window.location.search)
        pati = urlParams.get('pati')
        console.log('Pati: '+ pati)
    }

    function printGuardies(items){
        let taula = ' '
        items.forEach(item =>{
            taula= `<table><tr><th>${items[0]}</th></tr>`
            taula+= `<tr><td>${items.slice(1)}</td></tr>`
            console.log(item)

        })
        taula+=`</table>`
        document.getElementById('llistatGuardies').innerHTML=taula
    }

    async function mostrarGuardia(){
        let dades;
        const urlParams = new URLSearchParams(window.location.search)
        const numPati = urlParams.get('pati');
        console.log(numPati)
        dades= await getDadesFila("Guardies2!B1:K13");
        console.log(dades)
        printGuardies(dades[numPati])
    }
    (()=>{
        mostrarGuardia()
    })()
    /*async function mostrarGuardia() {
        let dades
        dades = await getDadesFila("Guardies2!B1:K13");
        console.log(dades)
        document.getElementById("llistatGuardies").innerHTML = dades[pati]
    }
    (() => {
        init()
        printGuardies()
    })()*/
</script>

</body>
</html>
